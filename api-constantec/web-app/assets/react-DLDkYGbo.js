var ie=Object.defineProperty;var W=t=>{throw TypeError(t)};var ne=(t,n,e)=>n in t?ie(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var S=(t,n,e)=>ne(t,typeof n!="symbol"?n+"":n,e),D=(t,n,e)=>n.has(t)||W("Cannot "+e);var u=(t,n,e)=>(D(t,n,"read from private field"),e?e.call(t):n.get(t)),m=(t,n,e)=>n.has(t)?W("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(t):n.set(t,e),l=(t,n,e,i)=>(D(t,n,"write to private field"),i?i.call(t,e):n.set(t,e),e),q=(t,n,e)=>(D(t,n,"access private method"),e);import{R as se}from"./index-CmIYSnw6.js";const oe="https://www.youtube.com/embed",re="https://www.youtube-nocookie.com/embed",ae="https://www.youtube.com/iframe_api",le="YT",ue="onYouTubeIframeAPIReady",z=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})/,ce=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/.*?[?&]list=)([\w_-]+)/;function J(t,n={}){var e;const i={src:Z(t,n),frameborder:0,width:"100%",height:"100%",allow:"accelerometer; fullscreen; autoplay; encrypted-media; gyroscope; picture-in-picture"};return(e=n.config)!=null&&e.referrerpolicy&&(i.referrerpolicy=n.config.referrerpolicy),n.config&&(i["data-config"]=JSON.stringify(n.config)),`
    <style>
      :host {
        display: inline-block;
        line-height: 0;
        position: relative;
        min-width: 300px;
        min-height: 150px;
      }
      iframe {
        position: absolute;
        top: 0;
        left: 0;
      }
    </style>
    <iframe${de(i)}></iframe>
  `}function Z(t,n){if(!t.src)return;const e=t.src.includes("-nocookie")?re:oe,i={controls:t.controls===""?null:0,autoplay:t.autoplay,loop:t.loop,mute:t.muted,playsinline:t.playsinline,preload:t.preload??"metadata",enablejsapi:1,cc_load_policy:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1,...n.config};if(z.test(t.src)){const g=t.src.match(z),b=g&&g[1];return`${e}/${b}?${K(i)}`}const s=t.src.match(ce),h={listType:"playlist",list:s&&s[1],...i};return`${e}?${K(h)}`}var R,C,_,T,y,x,M,P,L,$,ee;class N extends(globalThis.HTMLElement??class{}){constructor(){super();m(this,$);S(this,"loadComplete",new F);m(this,R);m(this,C);m(this,_,0);m(this,T,!1);m(this,y);S(this,"isLoaded",!1);m(this,x,null);m(this,M,null);m(this,P,null);m(this,L,1);q(this,$,ee).call(this,"config")}get config(){return u(this,M)}set config(e){l(this,M,e)}async load(){if(u(this,R))return;this.shadowRoot||this.attachShadow({mode:"open"});const e=!u(this,C);u(this,C)&&(this.loadComplete=new F,this.isLoaded=!1),l(this,C,!0),await l(this,R,Promise.resolve()),l(this,R,null),l(this,_,0),this.dispatchEvent(new Event("emptied"));let i=this.api;if(this.api=null,!this.src){i==null||i.destroy();return}l(this,P,document.createElement("video")),this.textTracks=u(this,P).textTracks,this.textTracks.addEventListener("change",()=>{var o;const f=Array.from(this.textTracks).find(p=>p.mode==="showing");(o=this.api)==null||o.setOption("captions","track",f?{languageCode:f.language}:{})}),this.dispatchEvent(new Event("loadstart"));let s=this.shadowRoot.querySelector("iframe"),c=fe(this.attributes);e&&s&&l(this,M,JSON.parse(s.getAttribute("data-config")||"{}")),(!(s!=null&&s.src)||s.src!==Z(c,this))&&(this.shadowRoot.innerHTML=J(c,this),s=this.shadowRoot.querySelector("iframe"));const h=await pe(ae,le,ue);this.api=new h.Player(s,{events:{onReady:()=>{var o;l(this,_,1),this.dispatchEvent(new Event("loadedmetadata")),this.dispatchEvent(new Event("durationchange")),u(this,L)!==1&&((o=this.api)==null||o.setVolume(u(this,L)*100)),this.dispatchEvent(new Event("volumechange")),this.dispatchEvent(new Event("loadcomplete")),this.isLoaded=!0,this.loadComplete.resolve()},onError:o=>{console.error(o),l(this,x,{code:o.data,message:`YouTube iframe player error #${o.data}; visit https://developers.google.com/youtube/iframe_api_reference#onError for the full error message.`}),this.dispatchEvent(new Event("error"))}}});let g=!1;this.api.addEventListener("onStateChange",o=>{var f;const p=o.data;if((p===h.PlayerState.PLAYING||p===h.PlayerState.BUFFERING)&&(g||(g=!0,this.dispatchEvent(new Event("play"))),(this.api.getOption("captions","tracklist")||[]).forEach(k=>{[...this.textTracks].some(O=>O.language===k.languageCode)||u(this,P).addTextTrack("subtitles",k.displayName,k.languageCode),this.textTracks=u(this,P).textTracks}),this.dispatchEvent(new Event("loadstart"))),p===h.PlayerState.PLAYING)this.seeking&&(l(this,T,!1),(f=u(this,y))==null||f.resolve(),this.dispatchEvent(new Event("seeked"))),l(this,_,3),this.dispatchEvent(new Event("playing"));else if(p===h.PlayerState.PAUSED){const v=Math.abs(this.currentTime-b);!this.seeking&&v>.1&&(l(this,T,!0),this.dispatchEvent(new Event("seeking"))),g=!1,this.dispatchEvent(new Event("pause"))}p===h.PlayerState.ENDED&&(g=!1,this.dispatchEvent(new Event("pause")),this.dispatchEvent(new Event("ended")),this.loop&&this.play())}),this.api.addEventListener("onPlaybackRateChange",()=>{this.dispatchEvent(new Event("ratechange"))}),this.api.addEventListener("onVolumeChange",()=>{var o;const f=((o=this.api)==null?void 0:o.getVolume())/100;l(this,L,f),this.dispatchEvent(new Event("volumechange"))}),this.api.addEventListener("onVideoProgress",()=>{this.dispatchEvent(new Event("timeupdate"))}),await this.loadComplete;let b=0;setInterval(()=>{var o;const f=Math.abs(this.currentTime-b),p=this.buffered.end(this.buffered.length-1);this.seeking&&p>.1?(l(this,T,!1),(o=u(this,y))==null||o.resolve(),this.dispatchEvent(new Event("seeked"))):!this.seeking&&f>.1&&(l(this,T,!0),this.dispatchEvent(new Event("seeking"))),b=this.currentTime},50);let I;const B=setInterval(()=>{const o=this.buffered.end(this.buffered.length-1);o>=this.duration&&(clearInterval(B),l(this,_,4)),I!=o&&(I=o,this.dispatchEvent(new Event("progress")))},100)}async attributeChangedCallback(e,i,s){if(i!==s)switch(e){case"src":case"autoplay":case"controls":case"loop":case"playsinline":this.load()}}async play(){var e;return l(this,y,null),await this.loadComplete,(e=this.api)==null||e.playVideo(),ge(this)}async pause(){var e;return await this.loadComplete,(e=this.api)==null?void 0:e.pauseVideo()}get seeking(){return u(this,T)}get readyState(){return u(this,_)}get src(){return this.getAttribute("src")}set src(e){this.src!=e&&this.setAttribute("src",e)}get error(){return u(this,x)}get paused(){var e,i;return this.isLoaded?[-1,0,2,5].includes((i=(e=this.api)==null?void 0:e.getPlayerState)==null?void 0:i.call(e)):!this.autoplay}get duration(){var e,i;return((i=(e=this.api)==null?void 0:e.getDuration)==null?void 0:i.call(e))??NaN}get autoplay(){return this.hasAttribute("autoplay")}set autoplay(e){this.autoplay!=e&&this.toggleAttribute("autoplay",!!e)}get buffered(){var e,i;if(!this.isLoaded)return Y();const s=((e=this.api)==null?void 0:e.getVideoLoadedFraction())*((i=this.api)==null?void 0:i.getDuration());return s>0?Y(0,s):Y()}get controls(){return this.hasAttribute("controls")}set controls(e){this.controls!=e&&this.toggleAttribute("controls",!!e)}get currentTime(){var e,i;return((i=(e=this.api)==null?void 0:e.getCurrentTime)==null?void 0:i.call(e))??0}set currentTime(e){this.currentTime!=e&&(l(this,y,new F),this.loadComplete.then(()=>{var i,s;(i=this.api)==null||i.seekTo(e,!0),this.paused&&((s=u(this,y))==null||s.then(()=>{var c;u(this,y)&&((c=this.api)==null||c.pauseVideo())}))}))}set defaultMuted(e){this.defaultMuted!=e&&this.toggleAttribute("muted",!!e)}get defaultMuted(){return this.hasAttribute("muted")}get loop(){return this.hasAttribute("loop")}set loop(e){this.loop!=e&&this.toggleAttribute("loop",!!e)}set muted(e){this.muted!=e&&this.loadComplete.then(()=>{var i,s;e?(i=this.api)==null||i.mute():(s=this.api)==null||s.unMute()})}get muted(){var e,i;return this.isLoaded?(i=(e=this.api)==null?void 0:e.isMuted)==null?void 0:i.call(e):this.defaultMuted}get playbackRate(){var e,i;return((i=(e=this.api)==null?void 0:e.getPlaybackRate)==null?void 0:i.call(e))??1}set playbackRate(e){this.playbackRate!=e&&this.loadComplete.then(()=>{var i;(i=this.api)==null||i.setPlaybackRate(e)})}get playsInline(){return this.hasAttribute("playsinline")}set playsInline(e){this.playsInline!=e&&this.toggleAttribute("playsinline",!!e)}get poster(){return this.getAttribute("poster")}set poster(e){this.poster!=e&&this.setAttribute("poster",`${e}`)}set volume(e){this.volume!=e&&(l(this,L,e),this.loadComplete.then(()=>{var i;(i=this.api)==null||i.setVolume(e*100)}))}get volume(){var e;return this.isLoaded?((e=this.api)==null?void 0:e.getVolume())/100:u(this,L)}}R=new WeakMap,C=new WeakMap,_=new WeakMap,T=new WeakMap,y=new WeakMap,x=new WeakMap,M=new WeakMap,P=new WeakMap,L=new WeakMap,$=new WeakSet,ee=function(e){if(Object.prototype.hasOwnProperty.call(this,e)){const i=this[e];delete this[e],this[e]=i}},S(N,"getTemplateHTML",J),S(N,"shadowRootOptions",{mode:"open"}),S(N,"observedAttributes",["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src"]);function de(t){let n="";for(const e in t){const i=t[e];i===""?n+=` ${V(e)}`:n+=` ${V(e)}="${V(`${i}`)}"`}return n}function V(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/`/g,"&#x60;")}function K(t){return String(new URLSearchParams(he(t)))}function he(t){let n={};for(let e in t){let i=t[e];i===!0||i===""?n[e]=1:i===!1?n[e]=0:i!=null&&(n[e]=i)}return n}function fe(t){let n={};for(let e of t)n[e.name]=e.value;return n}const j={};async function pe(t,n,e){return j[t]?j[t]:self[n]?(await ve(0),self[n]):j[t]=new Promise(function(i,s){const c=document.createElement("script");c.src=t;const h=()=>i(self[n]);self[e]=h,c.onload=()=>!1,c.onerror=s,document.head.append(c)})}const ve=t=>new Promise(n=>setTimeout(n,t));function me(t){return(...n)=>new Promise(e=>{t(...n,(...i)=>{i.length>1?e(i):e(i[0])})})}function ge(t){return me((n,e)=>{let i;t.addEventListener(n,i=()=>{t.removeEventListener(n,i),e()})})("playing")}class F extends Promise{constructor(n=()=>{}){let e,i;super((s,c)=>{n(s,c),e=s,i=c}),this.resolve=e,this.reject=i}}function Y(t,n){return Array.isArray(t)?G(t):t==null||n==null||t===0&&n===0?G([[0,0]]):G([[t,n]])}function G(t){return Object.defineProperties(t,{start:{value:n=>t[n][0]},end:{value:n=>t[n][1]}}),t}globalThis.customElements&&!globalThis.customElements.get("youtube-video")&&globalThis.customElements.define("youtube-video",N);var ye=N,be=new Set(["style","children","ref","key","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML"]),Ee={className:"class",htmlFor:"for"};function te(t){return t.toLowerCase()}function Q(t){if(typeof t=="boolean")return t?"":void 0;if(typeof t!="function"&&!(typeof t=="object"&&t!==null))return t}function we({react:t,tagName:n,elementClass:e,events:i,displayName:s,defaultProps:c,toAttributeName:h=te,toAttributeValue:g=Q}){const b=Number.parseInt(t.version)>=19,I=t.forwardRef((B,o)=>{var f,p;const v=t.useRef(null),k=t.useRef(new Map),O={},U={},E={},H={};for(const[r,a]of Object.entries(B)){if(be.has(r)){E[r]=a;continue}const d=h(Ee[r]??r);if(e.prototype&&r in e.prototype&&!(r in(((f=globalThis.HTMLElement)==null?void 0:f.prototype)??{}))&&!((p=e.observedAttributes)!=null&&p.some(A=>A===d))){H[r]=a;continue}if(r.startsWith("on")){O[r]=a;continue}const w=g(a);if(d&&w!=null&&(U[d]=String(w),b||(E[d]=w)),d&&b){const A=Q(a);w!==A?E[d]=w:E[d]=a}}if(typeof window<"u"){for(const r in O){const a=O[r],d=r.endsWith("Capture"),w=((i==null?void 0:i[r])??r.slice(2).toLowerCase()).slice(0,d?-7:void 0);t.useLayoutEffect(()=>{const A=v==null?void 0:v.current;if(!(!A||typeof a!="function"))return A.addEventListener(w,a,d),()=>{A.removeEventListener(w,a,d)}},[v==null?void 0:v.current,a])}t.useLayoutEffect(()=>{if(v.current===null)return;const r=new Map;for(const a in H)X(v.current,a,H[a]),k.current.delete(a),r.set(a,H[a]);for(const[a,d]of k.current)X(v.current,a,void 0);k.current=r})}if(typeof window>"u"&&(e!=null&&e.getTemplateHTML)&&(e!=null&&e.shadowRootOptions)){const{mode:r,delegatesFocus:a}=e.shadowRootOptions,d=t.createElement("template",{shadowrootmode:r,shadowrootdelegatesfocus:a,dangerouslySetInnerHTML:{__html:e.getTemplateHTML(U,B)},key:"ce-la-react-ssr-template-shadow-root"});E.children=[d,E.children]}return t.createElement(n,{...c,...E,ref:t.useCallback(r=>{v.current=r,typeof o=="function"?o(r):o!==null&&(o.current=r)},[o])},E.children)});return I.displayName=s??e.name,I}function X(t,n,e){var i;t[n]=e,e==null&&n in(((i=globalThis.HTMLElement)==null?void 0:i.prototype)??{})&&t.removeAttribute(n)}var Le=we({react:se,tagName:"youtube-video",elementClass:ye,toAttributeName(t){return t==="muted"?"":t==="defaultMuted"?"muted":te(t)}});/*! Bundled license information:

ce-la-react/dist/ce-la-react.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *
   * Modified version of `@lit/react` for vanilla custom elements with support for SSR.
   *)
*/export{Le as default};
